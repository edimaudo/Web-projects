[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template.main.js\":function(){\n\n////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                            //\n// client/template.main.js                                                                    //\n//                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                              //\n                                                                                              // 1\nTemplate.body.addContent((function() {                                                        // 2\n  var view = this;                                                                            // 3\n  return [ HTML.Raw(\"<h1>Chatapp</h1>\\n  \"), Spacebars.include(view.lookupTemplate(\"welcome\")), \"\\n  \", Spacebars.include(view.lookupTemplate(\"input\")), \"\\n  \", Spacebars.include(view.lookupTemplate(\"messages\")) ];\n}));                                                                                          // 5\nMeteor.startup(Template.body.renderToDocument);                                               // 6\n                                                                                              // 7\nTemplate.__checkName(\"welcome\");                                                              // 8\nTemplate[\"welcome\"] = new Template(\"Template.welcome\", (function() {                          // 9\n  var view = this;                                                                            // 10\n  return HTML.Raw(\"<p>\\n    Let's chat.\\n  </p>\");                                            // 11\n}));                                                                                          // 12\n                                                                                              // 13\nTemplate.__checkName(\"messages\");                                                             // 14\nTemplate[\"messages\"] = new Template(\"Template.messages\", (function() {                        // 15\n  var view = this;                                                                            // 16\n  return Blaze.Each(function() {                                                              // 17\n    return Spacebars.call(view.lookup(\"messages\"));                                           // 18\n  }, function() {                                                                             // 19\n    return [ \"\\n    \", HTML.STRONG(Blaze.View(\"lookup:name\", function() {                     // 20\n      return Spacebars.mustache(view.lookup(\"name\"));                                         // 21\n    }), \":\"), \" \", Blaze.View(\"lookup:message\", function() {                                  // 22\n      return Spacebars.mustache(view.lookup(\"message\"));                                      // 23\n    }), HTML.BR(), \"\\n  \" ];                                                                  // 24\n  });                                                                                         // 25\n}));                                                                                          // 26\n                                                                                              // 27\nTemplate.__checkName(\"input\");                                                                // 28\nTemplate[\"input\"] = new Template(\"Template.input\", (function() {                              // 29\n  var view = this;                                                                            // 30\n  return HTML.Raw('<p>Message: <input type=\"text\" id=\"message\"></p>');                        // 31\n}));                                                                                          // 32\n                                                                                              // 33\n////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function(){\n\n////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                            //\n// client/main.js                                                                             //\n//                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                              //\nif (Meteor.isClient) {                                                                        // 1\n  Template.messages.helpers({                                                                 // 2\n    messages: function () {                                                                   // 3\n      return Messages.find({}, {                                                              // 4\n        sort: {                                                                               // 4\n          time: -1                                                                            // 4\n        }                                                                                     // 4\n      });                                                                                     // 4\n    }                                                                                         // 5\n  });                                                                                         // 2\n  Template.input.events = {                                                                   // 8\n    'keydown input#message': function (event) {                                               // 9\n      if (event.which == 13) {                                                                // 10\n        // 13 is the enter key event                                                          // 10\n        if (Meteor.user()) var name = Meteor.user().profile.name;else var name = 'Anonymous';\n        var message = document.getElementById('message');                                     // 15\n                                                                                              //\n        if (message.value != '') {                                                            // 16\n          Messages.insert({                                                                   // 17\n            name: name,                                                                       // 18\n            message: message.value,                                                           // 19\n            time: Date.now()                                                                  // 20\n          });                                                                                 // 17\n          document.getElementById('message').value = '';                                      // 23\n          message.value = '';                                                                 // 24\n        }                                                                                     // 25\n      }                                                                                       // 26\n    }                                                                                         // 27\n  };                                                                                          // 8\n}                                                                                             // 29\n////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\"extensions\":[\".js\",\".json\",\".html\",\".css\"]});\nrequire(\"./client/template.main.js\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/client/main.js"],"names":["Meteor","isClient","Template","messages","helpers","Messages","find","sort","time","input","events","event","which","user","name","profile","message","document","getElementById","value","insert","Date","now"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,OAAOC,QAAX,EAAqB;AACnBC,WAASC,QAAT,CAAkBC,OAAlB,CAA0B;AACxBD,cAAU,YAAW;AACrB,aAAOE,SAASC,IAAT,CAAc,EAAd,EAAkB;AAAEC,cAAM;AAAEC,gBAAM,CAAC;AAAT;AAAR,OAAlB,CAAP;AACD;AAHyB,GAA1B;AAMAN,WAASO,KAAT,CAAeC,MAAf,GAAwB;AACtB,6BAA0B,UAAUC,KAAV,EAAiB;AAC3C,UAAIA,MAAMC,KAAN,IAAe,EAAnB,EAAuB;AAAE;AACvB,YAAIZ,OAAOa,IAAP,EAAJ,EACA,IAAIC,OAAOd,OAAOa,IAAP,GAAcE,OAAd,CAAsBD,IAAjC,CADA,KAGA,IAAIA,OAAO,WAAX;AACE,YAAIE,UAAUC,SAASC,cAAT,CAAwB,SAAxB,CAAd;;AACA,YAAIF,QAAQG,KAAR,IAAiB,EAArB,EAAyB;AAC3Bd,mBAASe,MAAT,CAAgB;AACdN,kBAAMA,IADQ;AAEhBE,qBAASA,QAAQG,KAFD;AAGhBX,kBAAMa,KAAKC,GAAL;AAHU,WAAhB;AAMIL,mBAASC,cAAT,CAAwB,SAAxB,EAAmCC,KAAnC,GAA2C,EAA3C;AACAH,kBAAQG,KAAR,GAAgB,EAAhB;AACD;AACF;AACF;AAnBqB,GAAxB;AAqBD,mG","file":"/app.js","sourcesContent":["if (Meteor.isClient) {\n  Template.messages.helpers({\n    messages: function() {\n    return Messages.find({}, { sort: { time: -1}});\n  }\n  });\n\n  Template.input.events = {\n    'keydown input#message' : function (event) {\n    if (event.which == 13) { // 13 is the enter key event\n      if (Meteor.user())\n      var name = Meteor.user().profile.name;\n        else\n      var name = 'Anonymous';\n        var message = document.getElementById('message');\n        if (message.value != '') {\n      Messages.insert({\n        name: name,\n      message: message.value,\n      time: Date.now(),\n          });\n\n          document.getElementById('message').value = '';\n          message.value = '';\n        }\n      }\n    }\n  }\n}"]}}]